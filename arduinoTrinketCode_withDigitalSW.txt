#include <Wire.h>
#include <si5351.h>

Si5351 si5351;
const int outputGatePin = 12;  // Pin connected to the gate of the transistor or switch

// Desired on and off times in milliseconds
unsigned long desiredOnTime = 140;
unsigned long desiredOffTime = 800;

void setup() {
  pinMode(outputGatePin, OUTPUT);
  digitalWrite(outputGatePin, LOW);  // Start with the gate closed (signal off)

  Wire.begin();
  si5351.init(SI5351_CRYSTAL_LOAD_8PF, 0, 0);
  
  // Set up Clock 0 for 457 kHz
  si5351.set_pll(SI5351_PLL_FIXED,SI5351_PLLA);
  si5351.set_freq((457000ULL * 100ULL), SI5351_CLK0);
  si5351.output_enable(SI5351_CLK0, true);


}

void loop() {
  digitalWrite(outputGatePin, HIGH);  // Turn on the gate
  delay(desiredOnTime);

  digitalWrite(outputGatePin, LOW);  // Turn off the gate
  delay(desiredOffTime); 

}
